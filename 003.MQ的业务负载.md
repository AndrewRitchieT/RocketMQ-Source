



一个千万注册用户的APP，百万日活，每日几十万订单量，每天高峰期访问每秒两三千的QPS

往常每天高峰期：大概最多会达到每秒2000左右的访问量，

特价商品显示秒杀的活动，那可能是每秒1W的访问压力。

双11，618大促，订单单日百万订单的量级.





![image-20200401164448378](images/image-20200401164448378.png)





电商APP，需要用户大量的浏览商品，搜索商品，然后才会下订单和支付订单，所以用户一般会对APP的界面执行几十次或者上百次的点击。

如果每天是三五十万个订单，那么就对应百万次下单和订单查询操作，

真实的系统访问负载应该是一个半圆形曲线，从晚上6点开始访问量增加，一直到可能晚上八九点到达一个顶点，访问量是最大的。然后慢慢的开始下落，到达11点就变很低。

**4核8G**的机器一般每秒钟抗几百请求都没问题，每秒两三百请求，CPU资源使用率都不超过50%

8台4核8G的机器，每台机器每秒高峰期两三百请求是很轻松的, 线上这样的一个机器部署情况，在高峰期每秒2000以上的请求下是很轻松可以抗住的。





**16核32G**的数据库服务器配置，压测可达到**每秒上万请求**，只不过那个已经是数据库的极限了，会导致数据库服务器的CPU，磁盘，网络，IO，内存的使用率几乎达到了极限

在每秒四五千的请求的话，数据库服务器没问题,何况经过线上监控统计，现在数据库服务器在高峰期的每秒请求量就是**三四千**。



RocketMQ集群化部署,假设每台机器都能抗10万并发，几十万请求分散到多台机器，让每台机器承受的QPS不超过10万





