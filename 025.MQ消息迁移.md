

MQ集群迁移：双写+双读技术方案

1.双写：在所有的producer系统中，要引入一个双写代码，让他同时往Kafka和RocketMQ中写入消息，然后多写几天，双写持续一周左右，MQ一般都是实时数据，里面数据也就最多保留一周

双读：在双写的同事，所有的consumer都需要同事从kafka和RocketMQ里获取消息，分别都用一模一样的逻辑。

从kafka中获取的消息走核心逻辑去处理，落库操作。

但是RocketMQ获取的消息走完逻辑后，不进行落库操作。

在读取消息的时候，统计每个MQ当日读取和处理的数量。对RocketMQ获取到的消息，写入一个临时的存储。

通过观察两者执行的情况，来判断结果是否一致。

